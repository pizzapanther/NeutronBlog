{
  "title": "Quit Covering Up Your Toxic Hellstew With Docker",
  "published": "2014-09-26 15:12",
  "categories": ["docker", "Hellstew"],
  "authors": ["Paul Bailey"],
  "image": "/img/posts/docker-whale-home-logo.png"
}

Developer tools are great.  They can turn a tedious task into a trivial stroke of a few keys. However, sometimes we use these powerful tools to just cover up our crappy code. A perfect example of this is how Docker is often used. Because Docker makes replicating environments so fast, lightweight, and easy, we can use it to cover a lot of deployment sins. Covering up these sins always comes at a cost. Some of these sins are a complicated development environment that too few people in your organization understand, or complex scripts to do what should be simple tasks. So while using Docker makes it seem like you're making your development and deployment process easier, you are still dealing with having more developers to handle the complexity and a slowing down of the development process because changes to the environment can only be handled by a few people.

This reminds me of my days in the Space Shuttle program. We had two simulators in our department for crunching engineering scenarios and designing trajectories for the Space Shuttle. The older simulator was written in Fortran and used a series of scripts that not too many people understood, but we had compiled them into a smaller set of commands we could copy and paste to plan the right scenarios. We even had a special group in the department, called the "Data Group" which was tasked with keeping these scripts and other data safe and up to date. The newer simulator used C and had a nifty way of scripting it, where you would basically just input the commands of what an astronaut would do when flying the Shuttle. As an engineer in the department, it was our job to know how the astronauts would fly the Shuttle and what they needed to do for each stage of flight. Because of this, for the newer simulator we didn't need a data group because every certified engineer could pretty simply type in the commands for a scenario.

The point of this story is that while it was great in the 1980's when they invented the "Data Group" and their tools to handle our complex data and scripts, the better solution was to just simplify the process in general so an engineer who understands the Shuttle could program a scenario easily without having to know simulator BS. With either solution, the engineer had a pretty easy time writing scenarios, but the older solution came at a greater cost because now you need to hire more people and it takes longer to make changes in your data and scripts. Also the more dangerous cost was that engineers could not grok the whole process.

So back to Docker. If your development and deployment processes are hard, simplify them first! If you still need Docker, great, use it. When choosing development tools like Docker I think back to my Perl days. Perl had a motto: "Making the easy things easy, and the hard things possible". If your new tool makes the hard things possible and the easy things hard too, then something is wrong. Maybe the tool sucks or maybe you need to clean up your code first. With a current project I'm working on with Docker, getting your development environment setup is extremely easy. Woohoo! Previous hard task is now easy! However, the easy task of installing a new Python library with the requirements.txt file is hard because I have to rebuild a container to do it. This is an extremely easy task which should just be a simple command of `pip install -r requirements.txt`. However, the way the developers before me setup the project and covered it up with Docker, make this hard. I'm working on a way to make this easier with Docker but I have to clean up a butt load of bash scripts now and a broken process. The requirements.txt no longer works but no one noticed because everyone is just propagating a container that was kluged together. I don't think the choice of Docker was a bad one. The original sin was using Docker to cover up a bad development setup process which needs to be cleaned up first.

Maybe instead of ranting I should be thanking Docker for the job security right now. Back to work for me.

